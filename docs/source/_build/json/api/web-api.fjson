{"body": "<span class=\"target\" id=\"web-api\"></span><div class=\"section\" id=\"kegbot-web-api\">\n<h1>Kegbot Web API<a class=\"headerlink\" href=\"#kegbot-web-api\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"admonition warning\">\n<p class=\"first admonition-title\">Warning</p>\n<p class=\"last\">The Kegbot Web API is a work in progress. It will not be considered stable\nuntil Kegbot v1.0 is released.</p>\n</div>\n<div class=\"admonition warning\">\n<p class=\"first admonition-title\">Warning</p>\n<p class=\"last\">Example responses need to be updated. Consult a live Kegbot instance if in\ndoubt.</p>\n</div>\n<div class=\"section\" id=\"overview\">\n<h2>Overview<a class=\"headerlink\" href=\"#overview\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The Kegbot Web API aims to provide a simple, HTTP-accessible interface to the\nmost commonly-needed Kegbot system data.  The API is modeled after popular APIs\nfrom <a class=\"reference external\" href=\"http://apiwiki.twitter.com/\">Twitter</a>, <a class=\"reference external\" href=\"http://developers.facebook.com/\">Facebook</a>, and others.</p>\n<p>This document describes the current verison of the web API, version\n1.0.  For a summary of changes, see <a class=\"reference internal\" href=\"#api-changelog\"><em>Version History</em></a></p>\n</div>\n<div class=\"section\" id=\"core-concepts\">\n<h2>Core Concepts<a class=\"headerlink\" href=\"#core-concepts\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"url-scheme\">\n<h3>URL Scheme<a class=\"headerlink\" href=\"#url-scheme\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>This document describes several endpoints, which are HTTP URLs serviced by the API.\nEach endpoint corresponds some function or query against the Kegbot system.</p>\n<p>Endpoints follow a predictable URL scheme whenever possible. The general\nconvention is <tt class=\"docutils literal\"><span class=\"pre\">/&lt;noun&gt;/&lt;id&gt;/</span></tt>, or <tt class=\"docutils literal\"><span class=\"pre\">/&lt;noun&gt;/&lt;id&gt;/&lt;subresource&gt;/</span></tt>. The\n<tt class=\"docutils literal\"><span class=\"pre\">noun</span></tt> portion is typically a pluralized core Kegbot data type: &#8220;kegs&#8221;,\n&#8220;drinks&#8221;, and so on.  The <tt class=\"docutils literal\"><span class=\"pre\">id</span></tt> portion is a unique identifier for that type of\nnoun (typically a string or opaque id).</p>\n<p>For example, <tt class=\"docutils literal\"><span class=\"pre\">/users/mikey</span></tt> returns basic information about that user, and\n<tt class=\"docutils literal\"><span class=\"pre\">/users/mikey/drinks</span></tt> returns his detailed drink list.</p>\n</div>\n<div class=\"section\" id=\"data-format\">\n<h3>Data Format<a class=\"headerlink\" href=\"#data-format\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The response from an endpoint is a well-formed JSON dictionary.  Under normal\ncircumstances, the response dictionary will consist of a single top-level entry\nnamed <tt class=\"docutils literal\"><span class=\"pre\">result</span></tt>, containing the endpoint&#8217;s specific response data.  The actual\ncontents of the <tt class=\"docutils literal\"><span class=\"pre\">result</span></tt> field vary, and are determined by the endpoint.</p>\n<p>Dates and times are always expressed in the UTC time zone.</p>\n</div>\n<div class=\"section\" id=\"error-handling\">\n<h3>Error Handling<a class=\"headerlink\" href=\"#error-handling\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>If an error occurred or the request could not be processed, the response will\ninstead have the top-level field <tt class=\"docutils literal\"><span class=\"pre\">error</span></tt>, as shown below:</p>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"p\">{</span>\n  <span class=\"s2\">&quot;error&quot;</span> <span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;code&quot;</span> <span class=\"o\">:</span> <span class=\"s2\">&quot;PermissionDenied&quot;</span><span class=\"p\">,</span>\n    <span class=\"s2\">&quot;message&quot;</span> <span class=\"o\">:</span> <span class=\"s2\">&quot;You do not have permission to view this resource.&quot;</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n<p>The <tt class=\"docutils literal\"><span class=\"pre\">code</span></tt> field lists a specific error code, and the <tt class=\"docutils literal\"><span class=\"pre\">message</span></tt> field\ncontains a human-readable explanation.  For a complete list of possible error\ncodes, see <a class=\"reference internal\" href=\"#api-error-codes\"><em>Error Codes</em></a>.</p>\n<p>In addition to the Kegbot error codes, the API server will also use HTTP status\ncodes to indicate success (200) or failure (400).  Clients <em>must</em> handle\nnon-200 responses, which may be caused by heavy load, server error, or other\nexceptional circumstances.</p>\n</div>\n<div class=\"section\" id=\"pagination\">\n<span id=\"api-pagination\"></span><h3>Pagination<a class=\"headerlink\" href=\"#pagination\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>In some cases, Kegbot limits the number of records it will return in a single\nquery.  For these queries, an additional top-level field <tt class=\"docutils literal\"><span class=\"pre\">paging</span></tt> will appear\nin a successful response.  See the <a class=\"reference internal\" href=\"#api-drink-list\"><em>/drinks</em></a> section for an\nexample.</p>\n<p>Most endpoints do <em>not</em> paginate their results; those that do must specify this\nbehavior.</p>\n</div>\n<div class=\"section\" id=\"security-authentication\">\n<span id=\"api-security\"></span><h3>Security &amp; Authentication<a class=\"headerlink\" href=\"#security-authentication\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Most endpoints are considered <strong>Public</strong>, and can be accessed by any HTTP\nclient without authentication.</p>\n<p>Some endpoints and actions, such as publishing a drink, require a secret key\nin order to be processed, called the <em>api_key</em>.  All registered staff and\nsuperuser accounts have api access.  The key can be determined by logging in to\nyour account profile and navigating to <tt class=\"docutils literal\"><span class=\"pre\">/account/</span></tt>.  Example value:</p>\n<blockquote>\n<div>100000018fe5b1e373a18d7dbb3e51917058aaa7</div></blockquote>\n<p>When required, the token should be given as either an HTTP <tt class=\"docutils literal\"><span class=\"pre\">GET</span></tt> or <tt class=\"docutils literal\"><span class=\"pre\">POST</span></tt>\nparameter named <tt class=\"docutils literal\"><span class=\"pre\">api_key</span></tt>.</p>\n</div>\n<div class=\"section\" id=\"publishing\">\n<h3>Publishing<a class=\"headerlink\" href=\"#publishing\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>In addition to reading and querying data, the web API can be used for inserting\nand modifying records.  These are implemented as HTTP <tt class=\"docutils literal\"><span class=\"pre\">POST</span></tt> operations.</p>\n</div>\n</div>\n<div class=\"section\" id=\"get-endpoints\">\n<span id=\"api-endpoints\"></span><h2>GET Endpoints<a class=\"headerlink\" href=\"#get-endpoints\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The following endpoints provide read access to various Kegbot data.  All are\naccessible with HTTP GET operations.</p>\n<div class=\"section\" id=\"drinks\">\n<span id=\"api-drink-list\"></span><h3><tt class=\"docutils literal\"><span class=\"pre\">/drinks</span></tt><a class=\"headerlink\" href=\"#drinks\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Listing of a drinks poured on the current Kegbot system.  The results <em>may</em> be\npaginated; see <a class=\"reference internal\" href=\"#api-pagination\"><em>Pagination</em></a> for details.  Results are sorted by drink\nid, in decreasing order.</p>\n<p><strong>Default Access:</strong> Public</p>\n<div class=\"section\" id=\"arguments\">\n<h4>Arguments<a class=\"headerlink\" href=\"#arguments\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"74%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Argument</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>start</td>\n<td>First drink ID to show. <em>Default will start with the most\nrecent drink.</em></td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"response\">\n<h4>Response<a class=\"headerlink\" href=\"#response\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"24%\" />\n<col width=\"27%\" />\n<col width=\"49%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Property</th>\n<th class=\"head\">Type</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>drinks</td>\n<td><a class=\"reference internal\" href=\"../data-model/#model-drinkset\"><em>DrinkSet</em></a></td>\n<td>A sequence of <a class=\"reference internal\" href=\"../data-model/#model-drink\"><em>Drink</em></a> objects</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"example\">\n<h4>Example<a class=\"headerlink\" href=\"#example\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"c1\">// curl http://sfo.kegbot.net/api/drinks/?start=2000</span>\n<span class=\"p\">{</span>\n  <span class=\"s2\">&quot;result&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;paging&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;total&quot;</span><span class=\"o\">:</span> <span class=\"mi\">2716</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;limit&quot;</span><span class=\"o\">:</span> <span class=\"mi\">100</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;pos&quot;</span><span class=\"o\">:</span> <span class=\"mi\">2000</span>\n    <span class=\"p\">},</span>\n    <span class=\"s2\">&quot;drinks&quot;</span><span class=\"o\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"s2\">&quot;volume_ml&quot;</span><span class=\"o\">:</span> <span class=\"mf\">490.24793744200002</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;user_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;capn&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;ticks&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1321</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;session_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;386&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;is_valid&quot;</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;pour_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-10-03T17:13:16&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;duration&quot;</span><span class=\"o\">:</span> <span class=\"mi\">15</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;keg_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">13</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">2000</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"s2\">&quot;volume_ml&quot;</span><span class=\"o\">:</span> <span class=\"mf\">451.651582034</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;user_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;boysdontcall&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;ticks&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1217</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;session_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;386&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;is_valid&quot;</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;pour_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-10-03T17:12:27&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;duration&quot;</span><span class=\"o\">:</span> <span class=\"mi\">14</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;keg_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">13</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1999</span>\n      <span class=\"p\">},</span>\n      <span class=\"c1\">// ...</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"drinks-id\">\n<span id=\"api-drink-detail\"></span><h3><tt class=\"docutils literal\"><span class=\"pre\">/drinks/&lt;id&gt;/</span></tt><a class=\"headerlink\" href=\"#drinks-id\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Detailed information about a single specific drink.</p>\n<p><strong>Default Access:</strong> Public</p>\n<div class=\"section\" id=\"id1\">\n<h4>Response<a class=\"headerlink\" href=\"#id1\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"18%\" />\n<col width=\"55%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Property</th>\n<th class=\"head\">Type</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>drink</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>The <a class=\"reference internal\" href=\"../data-model/#model-drink\"><em>Drink</em></a> object\ncorresponding to this drink</td>\n</tr>\n<tr class=\"row-odd\"><td>keg</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>The <a class=\"reference internal\" href=\"../data-model/#model-keg\"><em>Keg</em></a> object\ncorresponding to this drink</td>\n</tr>\n<tr class=\"row-even\"><td>user</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>The <a class=\"reference internal\" href=\"../data-model/#model-user\"><em>User</em></a> object\ncorresponding to this drink</td>\n</tr>\n<tr class=\"row-odd\"><td>session</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>The <a class=\"reference internal\" href=\"../data-model/#model-session\"><em>Session</em></a> object\ncorresponding to this drink</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"id2\">\n<h4>Example<a class=\"headerlink\" href=\"#id2\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"c1\">// curl http://sfo.kegbot.net/api/drinks/2000/</span>\n<span class=\"p\">{</span>\n  <span class=\"s2\">&quot;result&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;keg&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;status&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;offline&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;volume_ml_remain&quot;</span><span class=\"o\">:</span> <span class=\"mf\">590.74554188041657</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;finished_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-10-17T19:34:06&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;description&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;Racer 5&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;type_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;50ad52bc-35fb-4441-a5bf-f56a55608057&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;started_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-09-06T14:46:00&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;size_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;percent_full&quot;</span><span class=\"o\">:</span> <span class=\"mf\">0.010068330147789123</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">13</span>\n    <span class=\"p\">},</span>\n    <span class=\"s2\">&quot;drink&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;volume_ml&quot;</span><span class=\"o\">:</span> <span class=\"mf\">490.24793744200002</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;user_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;capn&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;ticks&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1321</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;session_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;386&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;is_valid&quot;</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;pour_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-10-03T17:13:16&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;duration&quot;</span><span class=\"o\">:</span> <span class=\"mi\">15</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;keg_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">13</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">2000</span>\n    <span class=\"p\">},</span>\n    <span class=\"s2\">&quot;user&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;username&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;capn&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;joined_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2004-05-22T20:24:16&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;mugshot_url&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;mugshots/brian-wtf-hula-thing.jpg&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;is_active&quot;</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;is_superuser&quot;</span><span class=\"o\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;is_staff&quot;</span><span class=\"o\">:</span> <span class=\"kc\">false</span>\n    <span class=\"p\">},</span>\n    <span class=\"s2\">&quot;session&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;start_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-10-03T16:33:07&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;volume_ml&quot;</span><span class=\"o\">:</span> <span class=\"mf\">0.0</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;386&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;end_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-10-03T20:26:24&quot;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"taps\">\n<h3><tt class=\"docutils literal\"><span class=\"pre\">/taps/</span></tt><a class=\"headerlink\" href=\"#taps\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Listing of all taps in the system.</p>\n<p><strong>Default Access:</strong> Public</p>\n<div class=\"section\" id=\"id3\">\n<h4>Response<a class=\"headerlink\" href=\"#id3\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p><em>Note:</em> The response is a list with property name <em>taps</em>, containing zero or\nmore of the following structure.</p>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"18%\" />\n<col width=\"55%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Property</th>\n<th class=\"head\">Type</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>tap</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>The <a class=\"reference internal\" href=\"../data-model/#model-kegtap\"><em>KegTap</em></a> objects itself</td>\n</tr>\n<tr class=\"row-odd\"><td>keg</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>A <a class=\"reference internal\" href=\"../data-model/#model-keg\"><em>Keg</em></a> object for the current\nkeg, or <em>null</em>.</td>\n</tr>\n<tr class=\"row-even\"><td>beverage</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>A <a class=\"reference internal\" href=\"../data-model/#model-beertype\"><em>BeerType</em></a> object for the\ncurrent keg, or <em>null</em>.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"id4\">\n<h4>Example<a class=\"headerlink\" href=\"#id4\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"c1\">// curl http://sfo.kegbot.net/api/taps/</span>\n<span class=\"p\">{</span>\n  <span class=\"s2\">&quot;result&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;taps&quot;</span><span class=\"o\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"s2\">&quot;keg&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n          <span class=\"s2\">&quot;status&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;online&quot;</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;volume_ml_remain&quot;</span><span class=\"o\">:</span> <span class=\"mf\">299.24664065039542</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;finished_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2010-06-11T23:25:16&quot;</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;description&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;Celebrating the World Cup, and international relations, with a beer that&#39;s part Austria / part Berkeley.&quot;</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;type_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;20bd3f32-75eb-11df-80f2-00304833977c&quot;</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;started_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2010-06-11T23:25:16&quot;</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;size_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;percent_full&quot;</span><span class=\"o\">:</span> <span class=\"mf\">0.0051001891001911156</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">17</span>\n        <span class=\"p\">},</span>\n        <span class=\"s2\">&quot;tap&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n          <span class=\"s2\">&quot;meter_name&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;kegboard.flow0&quot;</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;name&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;main tap&quot;</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;ml_per_tick&quot;</span><span class=\"o\">:</span> <span class=\"mf\">0.37111880200000003</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;thermo_sensor_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;1&quot;</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;current_keg_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">17</span><span class=\"p\">,</span>\n          <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;1&quot;</span>\n        <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"taps-id\">\n<span id=\"api-tap-detail\"></span><h3><tt class=\"docutils literal\"><span class=\"pre\">/taps/&lt;id&gt;/</span></tt><a class=\"headerlink\" href=\"#taps-id\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Shows detailed information about a single tap.</p>\n<p><strong>Default Access:</strong> Public</p>\n<div class=\"section\" id=\"id5\">\n<h4>Response<a class=\"headerlink\" href=\"#id5\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"18%\" />\n<col width=\"55%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Property</th>\n<th class=\"head\">Type</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>tap</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>The <a class=\"reference internal\" href=\"../data-model/#model-kegtap\"><em>KegTap</em></a> objects itself</td>\n</tr>\n<tr class=\"row-odd\"><td>keg</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>A <a class=\"reference internal\" href=\"../data-model/#model-keg\"><em>Keg</em></a> object for the current\nkeg, or <em>null</em>.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"id6\">\n<h4>Example<a class=\"headerlink\" href=\"#id6\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"c1\">// curl http://sfo.kegbot.net/api/taps/kegboard.flow0/</span>\n<span class=\"p\">{</span>\n  <span class=\"s2\">&quot;result&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;keg&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;status&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;online&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;volume_ml_remain&quot;</span><span class=\"o\">:</span> <span class=\"mf\">299.24664065039542</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;finished_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2010-06-11T23:25:16&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;description&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;Celebrating the World Cup, and international relations, with a beer that&#39;s part Austria / part Berkeley.&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;type_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;20bd3f32-75eb-11df-80f2-00304833977c&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;started_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2010-06-11T23:25:16&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;size_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;percent_full&quot;</span><span class=\"o\">:</span> <span class=\"mf\">0.0051001891001911156</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">17</span>\n    <span class=\"p\">},</span>\n    <span class=\"s2\">&quot;tap&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;meter_name&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;kegboard.flow0&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;name&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;main tap&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;ml_per_tick&quot;</span><span class=\"o\">:</span> <span class=\"mf\">0.37111880200000003</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;thermo_sensor_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;1&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;current_keg_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">17</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;1&quot;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"kegs\">\n<h3><tt class=\"docutils literal\"><span class=\"pre\">/kegs/</span></tt><a class=\"headerlink\" href=\"#kegs\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Lists all kegs known by the system. The response to this query <em>may</em> be\npaginated.</p>\n<p><strong>Default Access:</strong> Public</p>\n<div class=\"section\" id=\"id7\">\n<h4>Response<a class=\"headerlink\" href=\"#id7\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"18%\" />\n<col width=\"55%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Property</th>\n<th class=\"head\">Type</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>keg</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>A <a class=\"reference internal\" href=\"../data-model/#model-keg\"><em>Keg</em></a> object corresponding\nto the keg.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"id8\">\n<h4>Example<a class=\"headerlink\" href=\"#id8\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"c1\">// curl http://sfo.kegbot.net/api/kegs/</span>\n<span class=\"p\">{</span>\n  <span class=\"s2\">&quot;result&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;kegs&quot;</span><span class=\"o\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"s2\">&quot;status&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;online&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;volume_ml_remain&quot;</span><span class=\"o\">:</span> <span class=\"mf\">299.24664065039542</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;finished_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2010-06-11T23:25:16&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;description&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;Celebrating the World Cup, and international relations, with a beer that&#39;s part Austria / part Berkeley.&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;type_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;20bd3f32-75eb-11df-80f2-00304833977c&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;started_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2010-06-11T23:25:16&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;size_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;percent_full&quot;</span><span class=\"o\">:</span> <span class=\"mf\">0.0051001891001911156</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">17</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"s2\">&quot;status&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;offline&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;volume_ml_remain&quot;</span><span class=\"o\">:</span> <span class=\"o\">-</span><span class=\"mf\">13363.120936177656</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;finished_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2010-05-29T13:01:20&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;description&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;Memorial Day keg.&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;type_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;e29a5d90-6b5c-11df-bcbc-00304833977c&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;started_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2010-05-29T13:01:20&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;size_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;percent_full&quot;</span><span class=\"o\">:</span> <span class=\"o\">-</span><span class=\"mf\">0.22775341302110927</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">16</span>\n      <span class=\"p\">},</span>\n      <span class=\"c1\">// ...</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"kegs-id\">\n<span id=\"api-keg-detail\"></span><h3><tt class=\"docutils literal\"><span class=\"pre\">/kegs/&lt;id&gt;/</span></tt><a class=\"headerlink\" href=\"#kegs-id\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Detailed information about a specific keg.</p>\n<p><strong>Default Access:</strong> Public</p>\n<div class=\"section\" id=\"id9\">\n<h4>Response<a class=\"headerlink\" href=\"#id9\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"18%\" />\n<col width=\"55%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Property</th>\n<th class=\"head\">Type</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>keg</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">multiple</span></tt></td>\n<td>The <a class=\"reference internal\" href=\"../data-model/#model-keg\"><em>Keg</em></a> object for this keg.</td>\n</tr>\n<tr class=\"row-odd\"><td>type</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>The <a class=\"reference internal\" href=\"../data-model/#model-beertype\"><em>BeerType</em></a> object for this\nkeg, or <em>null</em></td>\n</tr>\n<tr class=\"row-even\"><td>size</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>The <a class=\"reference internal\" href=\"../data-model/#model-kegsize\"><em>KegSize</em></a> object for this\nkeg, or <em>null</em></td>\n</tr>\n<tr class=\"row-odd\"><td>drinks</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">multiple</span></tt></td>\n<td>A listing of individual <a class=\"reference internal\" href=\"../data-model/#model-drink\"><em>Drink</em></a>\nobjects poured on this keg.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"id10\">\n<h4>Example<a class=\"headerlink\" href=\"#id10\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"c1\">// curl http://sfo.kegbot.neg/api/kegs/13/</span>\n<span class=\"p\">{</span>\n  <span class=\"s2\">&quot;result&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;keg&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;status&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;offline&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;volume_ml_remain&quot;</span><span class=\"o\">:</span> <span class=\"mf\">590.74554188041657</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;finished_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-10-17T19:34:06&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;description&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;Racer 5&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;type_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;50ad52bc-35fb-4441-a5bf-f56a55608057&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;started_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-09-06T14:46:00&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;size_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;percent_full&quot;</span><span class=\"o\">:</span> <span class=\"mf\">0.010068330147789123</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">13</span>\n    <span class=\"p\">},</span>\n    <span class=\"s2\">&quot;type&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;name&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;Racer 5&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;style_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;8afc60f5-2ee0-40a2-a53a-39c6f43ed4bf&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;calories_oz&quot;</span><span class=\"o\">:</span> <span class=\"mf\">12.5</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;abv&quot;</span><span class=\"o\">:</span> <span class=\"mf\">7.2000000000000002</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;brewer_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;4360bae4-5522-4fca-8e3a-0edebfc457a5&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;50ad52bc-35fb-4441-a5bf-f56a55608057&quot;</span>\n    <span class=\"p\">},</span>\n    <span class=\"s2\">&quot;size&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;volume_ml&quot;</span><span class=\"o\">:</span> <span class=\"mf\">58673.636363636397</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;name&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;15.5 gallon keg&quot;</span>\n    <span class=\"p\">}</span>\n    <span class=\"s2\">&quot;drinks&quot;</span><span class=\"o\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"s2\">&quot;volume_ml&quot;</span><span class=\"o\">:</span> <span class=\"mf\">55.667820300000002</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;user_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;scarfjerk&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;ticks&quot;</span><span class=\"o\">:</span> <span class=\"mi\">150</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;session_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;390&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;is_valid&quot;</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;pour_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-10-17T19:34:06&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;duration&quot;</span><span class=\"o\">:</span> <span class=\"mi\">7</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;keg_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">13</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">2054</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"s2\">&quot;volume_ml&quot;</span><span class=\"o\">:</span> <span class=\"mf\">441.63137438000001</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;user_id&quot;</span><span class=\"o\">:</span> <span class=\"kc\">null</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;ticks&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1190</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;session_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;390&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;is_valid&quot;</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;user&quot;</span><span class=\"o\">:</span> <span class=\"kc\">null</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;pour_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-10-17T19:02:55&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;duration&quot;</span><span class=\"o\">:</span> <span class=\"mi\">11</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;keg_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">13</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">2053</span>\n      <span class=\"p\">},</span>\n      <span class=\"c1\">// ...</span>\n    <span class=\"p\">],</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"kegs-id-drinks\">\n<h3><tt class=\"docutils literal\"><span class=\"pre\">/kegs/&lt;id&gt;/drinks/</span></tt><a class=\"headerlink\" href=\"#kegs-id-drinks\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Lists all drinks assigned to a specific keg.  This is the same content as the\n<em>drinks</em> portion of the <a class=\"reference internal\" href=\"#api-keg-detail\"><em>/kegs/&lt;id&gt;/</em></a> endpoint.</p>\n<ul class=\"simple\">\n<li><strong>Default Access:</strong> Public</li>\n</ul>\n<div class=\"section\" id=\"id11\">\n<h4>Response<a class=\"headerlink\" href=\"#id11\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"18%\" />\n<col width=\"55%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Property</th>\n<th class=\"head\">Type</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>drinks</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">multiple</span></tt></td>\n<td>A listing of individual <a class=\"reference internal\" href=\"../data-model/#model-drink\"><em>Drink</em></a>\nobjects poured on this keg.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"id12\">\n<h4>Example<a class=\"headerlink\" href=\"#id12\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"c1\">// curl http://sfo.kegbot.net/api/kegs/13/drinks/</span>\n<span class=\"p\">{</span>\n  <span class=\"s2\">&quot;result&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;drinks&quot;</span><span class=\"o\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"s2\">&quot;volume_ml&quot;</span><span class=\"o\">:</span> <span class=\"mf\">55.667820300000002</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;user_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;scarfjerk&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;ticks&quot;</span><span class=\"o\">:</span> <span class=\"mi\">150</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;session_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;390&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;is_valid&quot;</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;pour_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-10-17T19:34:06&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;duration&quot;</span><span class=\"o\">:</span> <span class=\"mi\">7</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;keg_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">13</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">2054</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"s2\">&quot;volume_ml&quot;</span><span class=\"o\">:</span> <span class=\"mf\">441.63137438000001</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;user_id&quot;</span><span class=\"o\">:</span> <span class=\"kc\">null</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;ticks&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1190</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;session_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;390&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;is_valid&quot;</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;user&quot;</span><span class=\"o\">:</span> <span class=\"kc\">null</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;pour_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2009-10-17T19:02:55&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;duration&quot;</span><span class=\"o\">:</span> <span class=\"mi\">11</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;keg_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">13</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">2053</span>\n      <span class=\"p\">},</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"kegs-id-sessions\">\n<h3><tt class=\"docutils literal\"><span class=\"pre\">/kegs/&lt;id&gt;/sessions/</span></tt><a class=\"headerlink\" href=\"#kegs-id-sessions\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Lists all sessions involving specific keg.</p>\n<p><strong>Default Access:</strong> Public</p>\n<div class=\"section\" id=\"id13\">\n<h4>Response<a class=\"headerlink\" href=\"#id13\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"18%\" />\n<col width=\"55%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Property</th>\n<th class=\"head\">Type</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>sessions</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">multiple</span></tt></td>\n<td>A listing of individual\n<a class=\"reference internal\" href=\"../data-model/#model-session\"><em>Session</em></a> objects involving\nthis keg.</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n<div class=\"section\" id=\"users-id\">\n<h3><tt class=\"docutils literal\"><span class=\"pre\">/users/&lt;id&gt;/</span></tt><a class=\"headerlink\" href=\"#users-id\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Lists detail about a single user.</p>\n<p><strong>Default Access:</strong> Public</p>\n<div class=\"section\" id=\"id14\">\n<h4>Response<a class=\"headerlink\" href=\"#id14\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"18%\" />\n<col width=\"55%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Property</th>\n<th class=\"head\">Type</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>user</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>A <a class=\"reference internal\" href=\"../data-model/#model-user\"><em>User</em></a> object corresponding\nto the user.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"id15\">\n<h4>Example<a class=\"headerlink\" href=\"#id15\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"c1\">// curl http://sfo.kegbot.net/api/users/mikey/</span>\n<span class=\"p\">{</span>\n  <span class=\"s2\">&quot;result&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;user&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;username&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;mikey&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;joined_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2004-05-22T20:22:39Z&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;mugshot_url&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;mugshots/mikey/a12b-mikey-kegbot.jpg&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;is_active&quot;</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"users-id-drinks\">\n<h3><tt class=\"docutils literal\"><span class=\"pre\">/users/&lt;id&gt;/drinks/</span></tt><a class=\"headerlink\" href=\"#users-id-drinks\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Lists all drinks by a specific user.</p>\n<p><strong>Default Access:</strong> Public</p>\n<div class=\"section\" id=\"id16\">\n<h4>Response<a class=\"headerlink\" href=\"#id16\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"18%\" />\n<col width=\"55%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Property</th>\n<th class=\"head\">Type</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>drinks</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">multiple</span></tt></td>\n<td>A listing of individual <a class=\"reference internal\" href=\"../data-model/#model-drink\"><em>Drink</em></a>\nobjects poured on this keg.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"id17\">\n<h4>Example<a class=\"headerlink\" href=\"#id17\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"c1\">// curl http://sfo.kegbot.net/api/users/mikey/drinks/</span>\n<span class=\"p\">{</span>\n  <span class=\"s2\">&quot;result&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;drinks&quot;</span><span class=\"o\">:</span> <span class=\"p\">[</span>\n      <span class=\"p\">{</span>\n        <span class=\"s2\">&quot;volume_ml&quot;</span><span class=\"o\">:</span> <span class=\"mf\">453.13605724199999</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;user_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;mikey&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;ticks&quot;</span><span class=\"o\">:</span> <span class=\"mi\">1221</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;session_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;421&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;is_valid&quot;</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;pour_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2010-08-22T02:55:53Z&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;duration&quot;</span><span class=\"o\">:</span> <span class=\"mi\">12</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;keg_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">17</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">2694</span>\n      <span class=\"p\">},</span>\n      <span class=\"p\">{</span>\n        <span class=\"s2\">&quot;volume_ml&quot;</span><span class=\"o\">:</span> <span class=\"mf\">333.26468419600002</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;user_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;mikey&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;ticks&quot;</span><span class=\"o\">:</span> <span class=\"mi\">898</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;session_id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;420&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;is_valid&quot;</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;pour_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2010-08-15T18:35:20Z&quot;</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;duration&quot;</span><span class=\"o\">:</span> <span class=\"mi\">8</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;keg_id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">17</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"mi\">2686</span>\n      <span class=\"p\">},</span>\n      <span class=\"c1\">// ...</span>\n    <span class=\"p\">]</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"auth-tokens-id\">\n<h3><tt class=\"docutils literal\"><span class=\"pre\">/auth-tokens/&lt;id&gt;/</span></tt><a class=\"headerlink\" href=\"#auth-tokens-id\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Gives detail about an auth token.</p>\n<ul class=\"simple\">\n<li><strong>Default Access:</strong> Protected</li>\n</ul>\n<div class=\"section\" id=\"id18\">\n<h4>Response<a class=\"headerlink\" href=\"#id18\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"18%\" />\n<col width=\"55%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Property</th>\n<th class=\"head\">Type</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>token</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">dict</span></tt></td>\n<td>A <em class=\"xref std std-ref\">model-authtoken</em> object\ncorresponding to the user.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"id19\">\n<h4>Example<a class=\"headerlink\" href=\"#id19\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"c1\">// curl -F api_key=1000...aaa7 http://sfo.kegbot.net/api/auth-tokens/test.testval/</span>\n<span class=\"p\">{</span>\n  <span class=\"s2\">&quot;result&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;token&quot;</span><span class=\"o\">:</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;auth_device&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;test&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;created_time&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;2010-10-13T00:41:01Z&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;enabled&quot;</span><span class=\"o\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;id&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;test|testval&quot;</span><span class=\"p\">,</span>\n      <span class=\"s2\">&quot;token_value&quot;</span><span class=\"o\">:</span> <span class=\"s2\">&quot;testval&quot;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"thermo-sensors-id\">\n<span id=\"api-thermo-detail\"></span><h3><tt class=\"docutils literal\"><span class=\"pre\">/thermo-sensors/&lt;id&gt;/</span></tt><a class=\"headerlink\" href=\"#thermo-sensors-id\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Gives detail about a thermo sensor in the system.</p>\n<ul class=\"simple\">\n<li><strong>Default Access:</strong> Public</li>\n</ul>\n</div>\n</div>\n<div class=\"section\" id=\"post-endpoints\">\n<h2>POST Endpoints<a class=\"headerlink\" href=\"#post-endpoints\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"record-a-drink\">\n<h3>Record a Drink<a class=\"headerlink\" href=\"#record-a-drink\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<ul class=\"simple\">\n<li><strong>Endpoint:</strong> <tt class=\"docutils literal\"><span class=\"pre\">/tap/&lt;id&gt;/</span></tt></li>\n<li><strong>Default Access:</strong> Protected</li>\n</ul>\n<p>Posting to a Tap endpoint will record a new drink.</p>\n<div class=\"section\" id=\"publish-format\">\n<h4>Publish Format<a class=\"headerlink\" href=\"#publish-format\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"18%\" />\n<col width=\"55%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">POST Argument</th>\n<th class=\"head\">Format</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>ticks</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">integer</span></tt></td>\n<td>The number of ticks recorded by the flow\nmeter on this tap.</td>\n</tr>\n<tr class=\"row-odd\"><td>volume_ml</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">float</span></tt></td>\n<td><em>Optional.</em>  If specified, overrides the\ndefault volume calculation (based on the\nticks field) with a specific volume in\nmilliliters.</td>\n</tr>\n<tr class=\"row-even\"><td>username</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">string</span></tt></td>\n<td><em>Optional.</em>  Gives the username of the\nuser responsible for the pour.  If\nauth_token was also given, the backend\ngives precendence to the username field.</td>\n</tr>\n<tr class=\"row-odd\"><td>pour_time</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">integer</span></tt></td>\n<td><em>Optional.</em> Unix timestamp corresponding\nto the date the pour was completed.  If\nthis field is given, the field &#8216;now&#8217; must\nalso be given.  If this field is not\ngiven, the backend will use the current\ntime when the request is processed.</td>\n</tr>\n<tr class=\"row-even\"><td>now</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">integer</span></tt></td>\n<td><em>Optional.</em> Unix timestamp corresponding\nto the current time; the backend uses this\nto compensate for any skew in system\nclocks.  Only meaningful when &#8216;pour_time&#8217;\nis also given, dicarded otherwise.</td>\n</tr>\n<tr class=\"row-odd\"><td>duration</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">integer</span></tt></td>\n<td><em>Optional.</em>  Gives the time taken, in\nseconds, to complete the pour.  This is\nused purely for trivia/statistical\npurposes.</td>\n</tr>\n<tr class=\"row-even\"><td>auth_token</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">string</span></tt></td>\n<td><em>Optional.</em>  If known, gives the auth\ntoken ID used during the pour.  If\nusername is not specified, this value will\nbe used by the backend to attempt to\nresolve to a user.  Regardless, the value\nis stored with the drink record.  (It can\nbe useful for &#8216;claiming&#8217; drinks poured\nwith an unassigned auth token.)</td>\n</tr>\n<tr class=\"row-odd\"><td>spilled</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">boolean</span></tt></td>\n<td><em>Optional.</em>  If true, the pour is recorded\nas &#8220;spilled&#8221;: no drink record will be\ngenerated, and the username, pour_time,\nauth_token, now, and duration fields are\nall ignored.  The volumed will be added to\nthe spilled total for the tap&#8217;s current\nkeg.</td>\n</tr>\n</tbody>\n</table>\n<p>If the tap has an active keg assigned to it, the new drink will be recorded and\naccounted for against that keg.  If not, the drink will not be associated with\nany keg.</p>\n</div>\n<div class=\"section\" id=\"id20\">\n<h4>Response<a class=\"headerlink\" href=\"#id20\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>A new drink record is returned on success, in the same format as\n<a class=\"reference internal\" href=\"#api-drink-detail\"><em>/drinks/&lt;id&gt;/</em></a>.</p>\n</div>\n</div>\n<div class=\"section\" id=\"record-a-temperature\">\n<h3>Record a temperature<a class=\"headerlink\" href=\"#record-a-temperature\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<ul class=\"simple\">\n<li><strong>Endpoint:</strong> <tt class=\"docutils literal\"><span class=\"pre\">/thermo-sensor/&lt;id&gt;/</span></tt></li>\n<li><strong>Default Access:</strong> Protected</li>\n</ul>\n<p>Posting to a thermo sensor endpoint will record a new temperature sensor\nreading.</p>\n<div class=\"section\" id=\"id21\">\n<h4>Publish Format<a class=\"headerlink\" href=\"#id21\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"18%\" />\n<col width=\"55%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">POST Argument</th>\n<th class=\"head\">Format</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>temp_c</td>\n<td><tt class=\"docutils literal\"><span class=\"pre\">float</span></tt></td>\n<td>Temperature, in degrees celcius.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"id22\">\n<h4>Response<a class=\"headerlink\" href=\"#id22\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>A new thermo sensor record is returned on success, in the same format as\n<a class=\"reference internal\" href=\"#api-thermo-detail\"><em>/thermo-sensors/&lt;id&gt;/</em></a>.</p>\n<p>Note that the Kegbot backend will record at most one reading, per sensor, per\nminute.  If multiple readings are received within a minute, the most recent one\nreceived wins.</p>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"error-codes\">\n<span id=\"api-error-codes\"></span><h2>Error Codes<a class=\"headerlink\" href=\"#error-codes\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"31%\" />\n<col width=\"69%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Error Code</th>\n<th class=\"head\">Meaning</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>Error</td>\n<td>A generic error.</td>\n</tr>\n<tr class=\"row-odd\"><td>NotFoundError</td>\n<td>The object being requested does not exist.  This is\nserved instead of an HTTP 404.</td>\n</tr>\n<tr class=\"row-even\"><td>ServerError</td>\n<td>The server had a problem serving the request.  This is\nserved instead of an HTTP 500 error code, and probably\nindicates a bug or temporary server issue.</td>\n</tr>\n<tr class=\"row-odd\"><td>BadRequestError</td>\n<td>The request was incomplete or malformed. For example,\nwhen POSTing, this will be thrown when a required\nvalue is missing, or when a field&#8217;s format is\nincorrect.</td>\n</tr>\n<tr class=\"row-even\"><td>NoAuthTokenError</td>\n<td>The resource/query is protected and requires\nan auth token to proceed. (See\n<a class=\"reference internal\" href=\"#api-security\"><em>Security &amp; Authentication</em></a>).</td>\n</tr>\n<tr class=\"row-odd\"><td>BadAuthTokenError</td>\n<td>The provided auth token was invalid.</td>\n</tr>\n<tr class=\"row-even\"><td>PermissionDeniedError</td>\n<td>The auth token provided does not have permission to\nperform this operation.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"version-history\">\n<span id=\"api-changelog\"></span><h2>Version History<a class=\"headerlink\" href=\"#version-history\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<table border=\"1\" class=\"docutils\">\n<colgroup>\n<col width=\"18%\" />\n<col width=\"16%\" />\n<col width=\"66%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Date</th>\n<th class=\"head\">Version</th>\n<th class=\"head\">Comments</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>2010-10-18</td>\n<td>0.1</td>\n<td>Initial version.</td>\n</tr>\n</tbody>\n</table>\n</div>\n</div>\n", "display_toc": true, "title": "Kegbot Web API", "sourcename": "api/web-api.txt", "customsidebar": null, "current_page_name": "api/web-api", "next": {"link": "../data-model/", "title": "Kegbot Data Model Reference"}, "rellinks": [["genindex", "General Index", "I", "index"], ["api/data-model", "Kegbot Data Model Reference", "N", "next"], ["api/index", "Kegbot API Guide", "P", "previous"]], "meta": {}, "parents": [{"link": "../", "title": "Kegbot API Guide"}], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Kegbot Web API</a><ul>\n<li><a class=\"reference internal\" href=\"#overview\">Overview</a></li>\n<li><a class=\"reference internal\" href=\"#core-concepts\">Core Concepts</a><ul>\n<li><a class=\"reference internal\" href=\"#url-scheme\">URL Scheme</a></li>\n<li><a class=\"reference internal\" href=\"#data-format\">Data Format</a></li>\n<li><a class=\"reference internal\" href=\"#error-handling\">Error Handling</a></li>\n<li><a class=\"reference internal\" href=\"#pagination\">Pagination</a></li>\n<li><a class=\"reference internal\" href=\"#security-authentication\">Security &amp; Authentication</a></li>\n<li><a class=\"reference internal\" href=\"#publishing\">Publishing</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#get-endpoints\">GET Endpoints</a><ul>\n<li><a class=\"reference internal\" href=\"#drinks\"><tt class=\"docutils literal\"><span class=\"pre\">/drinks</span></tt></a><ul>\n<li><a class=\"reference internal\" href=\"#arguments\">Arguments</a></li>\n<li><a class=\"reference internal\" href=\"#response\">Response</a></li>\n<li><a class=\"reference internal\" href=\"#example\">Example</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#drinks-id\"><tt class=\"docutils literal\"><span class=\"pre\">/drinks/&lt;id&gt;/</span></tt></a><ul>\n<li><a class=\"reference internal\" href=\"#id1\">Response</a></li>\n<li><a class=\"reference internal\" href=\"#id2\">Example</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#taps\"><tt class=\"docutils literal\"><span class=\"pre\">/taps/</span></tt></a><ul>\n<li><a class=\"reference internal\" href=\"#id3\">Response</a></li>\n<li><a class=\"reference internal\" href=\"#id4\">Example</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#taps-id\"><tt class=\"docutils literal\"><span class=\"pre\">/taps/&lt;id&gt;/</span></tt></a><ul>\n<li><a class=\"reference internal\" href=\"#id5\">Response</a></li>\n<li><a class=\"reference internal\" href=\"#id6\">Example</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#kegs\"><tt class=\"docutils literal\"><span class=\"pre\">/kegs/</span></tt></a><ul>\n<li><a class=\"reference internal\" href=\"#id7\">Response</a></li>\n<li><a class=\"reference internal\" href=\"#id8\">Example</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#kegs-id\"><tt class=\"docutils literal\"><span class=\"pre\">/kegs/&lt;id&gt;/</span></tt></a><ul>\n<li><a class=\"reference internal\" href=\"#id9\">Response</a></li>\n<li><a class=\"reference internal\" href=\"#id10\">Example</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#kegs-id-drinks\"><tt class=\"docutils literal\"><span class=\"pre\">/kegs/&lt;id&gt;/drinks/</span></tt></a><ul>\n<li><a class=\"reference internal\" href=\"#id11\">Response</a></li>\n<li><a class=\"reference internal\" href=\"#id12\">Example</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#kegs-id-sessions\"><tt class=\"docutils literal\"><span class=\"pre\">/kegs/&lt;id&gt;/sessions/</span></tt></a><ul>\n<li><a class=\"reference internal\" href=\"#id13\">Response</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#users-id\"><tt class=\"docutils literal\"><span class=\"pre\">/users/&lt;id&gt;/</span></tt></a><ul>\n<li><a class=\"reference internal\" href=\"#id14\">Response</a></li>\n<li><a class=\"reference internal\" href=\"#id15\">Example</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#users-id-drinks\"><tt class=\"docutils literal\"><span class=\"pre\">/users/&lt;id&gt;/drinks/</span></tt></a><ul>\n<li><a class=\"reference internal\" href=\"#id16\">Response</a></li>\n<li><a class=\"reference internal\" href=\"#id17\">Example</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#auth-tokens-id\"><tt class=\"docutils literal\"><span class=\"pre\">/auth-tokens/&lt;id&gt;/</span></tt></a><ul>\n<li><a class=\"reference internal\" href=\"#id18\">Response</a></li>\n<li><a class=\"reference internal\" href=\"#id19\">Example</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#thermo-sensors-id\"><tt class=\"docutils literal\"><span class=\"pre\">/thermo-sensors/&lt;id&gt;/</span></tt></a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#post-endpoints\">POST Endpoints</a><ul>\n<li><a class=\"reference internal\" href=\"#record-a-drink\">Record a Drink</a><ul>\n<li><a class=\"reference internal\" href=\"#publish-format\">Publish Format</a></li>\n<li><a class=\"reference internal\" href=\"#id20\">Response</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#record-a-temperature\">Record a temperature</a><ul>\n<li><a class=\"reference internal\" href=\"#id21\">Publish Format</a></li>\n<li><a class=\"reference internal\" href=\"#id22\">Response</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#error-codes\">Error Codes</a></li>\n<li><a class=\"reference internal\" href=\"#version-history\">Version History</a></li>\n</ul>\n</li>\n</ul>\n", "prev": {"link": "../", "title": "Kegbot API Guide"}, "metatags": ""}