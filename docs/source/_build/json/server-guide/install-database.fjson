{"body": "<div class=\"section\" id=\"install-the-database\">\n<span id=\"database-install\"></span><h1>Install the Database<a class=\"headerlink\" href=\"#install-the-database\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>Kegbot relies on a database system to store all data, including keg and drink\ninformation.  This chapter covers installing and initializing a database for use\nby Kegbot.</p>\n<p>At the moment, Kegbot can support either <a class=\"reference external\" href=\"http://www.mysql.org/\">MySQL</a> or\n<a class=\"reference external\" href=\"http://sqlite.org/\">Sqlite</a> as the database backend.  We&#8217;ve not tested the\n<a class=\"reference external\" href=\"http://docs.djangoproject.com/en/dev/ref/databases/\">other databases supported by Django</a>, though they might also\nwork.</p>\n<div class=\"section\" id=\"using-sqlite\">\n<h2>Using SQLite<a class=\"headerlink\" href=\"#using-sqlite\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Follow this section if you want to use SQLite as the Kegbot database.  SQLite is\nconsiderably simpler than MySQL to setup and maintain.</p>\n<div class=\"section\" id=\"install-sqlite\">\n<h3>Install SQLite<a class=\"headerlink\" href=\"#install-sqlite\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Since SQLite operates on a flat file database, it is considerably simpler to set\nup.  Be sure you have the necessary libraries and command-line tools:</p>\n<div class=\"highlight-python\"><pre>$ sudo apt-get install python-sqlite</pre>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"using-mysql\">\n<h2>Using MySQL<a class=\"headerlink\" href=\"#using-mysql\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Follow this section if you prefer to use MySQL as the Kegbot database.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">This section is not intended to be a complete guide to installing and\nmaintaining a MySQL server. If you&#8217;re not already familiar with MySQL (or if\nyou encounter problems), we suggest you consult the official documentation for\nyour Linux distribution and/or MySQL.</p>\n</div>\n<div class=\"section\" id=\"installing-mysql\">\n<h3>Installing MySQL<a class=\"headerlink\" href=\"#installing-mysql\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>If you do not already have a MySQL daemon running on your system, you need to\ninstall it. The following command should work on Debian/Ubuntu:</p>\n<div class=\"highlight-python\"><pre>$ sudo apt-get install mysql-server</pre>\n</div>\n<p>Once MySQL is installed, confirm it is running by logging in as the &#8216;root&#8217; MySQL\nuser:</p>\n<div class=\"highlight-python\"><pre>% mysql -u root -p\nEnter password:</pre>\n</div>\n<p>When prompted for the password, enter the password of the <tt class=\"docutils literal\"><span class=\"pre\">root</span></tt> MySQL user.\nDepending on your installation, a password may not be required.\nIf you don&#8217;t know what this is, or don&#8217;t remember setting a password, just hit,\nor run the command without the <tt class=\"docutils literal\"><span class=\"pre\">-p</span></tt> option.</p>\n<p>You should see the MySQL welcome message and shell:</p>\n<div class=\"highlight-python\"><pre>Welcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 211\nServer version: 5.0.75-0ubuntu10.2 (Ubuntu)\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the buffer.\n\nmysql&gt;</pre>\n</div>\n<p>Your MySQL system seems to be working. Exit the shell:</p>\n<div class=\"highlight-python\"><pre>mysql&gt; exit\nBye\n$</pre>\n</div>\n</div>\n<div class=\"section\" id=\"creating-the-kegbot-database\">\n<h3>Creating the Kegbot database<a class=\"headerlink\" href=\"#creating-the-kegbot-database\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>You now need to create a database within MySQL for Kegbot to use.\nCreate a new database named <tt class=\"docutils literal\"><span class=\"pre\">kegbot</span></tt> with the following command:</p>\n<div class=\"highlight-python\"><pre>$ mysqladmin -u root -p create kegbot\nEnter password:\n$</pre>\n</div>\n<p>That&#8217;s it; unless you see an error message, the command was successful. Next,\nverify that the database was created by trying to use it in a MySQL shell:</p>\n<div class=\"highlight-python\"><pre>$ mysql -u root -p\nEnter password:\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 218\nServer version: 5.0.75-0ubuntu10.2 (Ubuntu)\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the buffer.\n\nmysql&gt; use kegbot\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\nmysql&gt;</pre>\n</div>\n</div>\n<div class=\"section\" id=\"creating-the-kegbot-mysql-user\">\n<span id=\"create-mysql-user\"></span><h3>Creating the <cite>kegbot</cite> MySQL user<a class=\"headerlink\" href=\"#creating-the-kegbot-mysql-user\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Finally, create a new MySQL user named <tt class=\"docutils literal\"><span class=\"pre\">kegbot</span></tt> for MySQL access by the Kegbot\nsystem:</p>\n<div class=\"highlight-python\"><pre>mysql&gt; GRANT ALL PRIVILEGES ON kegbot.* to kegbot@localhost IDENTIFIED BY 'pw';\nQuery OK, 0 rows affected (0.12 sec)\n\nmysql&gt; flush privileges;\nQuery OK, 0 rows affected (0.08 sec)\n\nmysql&gt; exit\nBye</pre>\n</div>\n<p>Be sure to select a unique password and replace the text <tt class=\"docutils literal\"><span class=\"pre\">'pw'</span></tt>.\nYou will need this password in the next chapter.</p>\n<p>Test your new user account:</p>\n<div class=\"highlight-python\"><pre>$ mysql -u kegbot -p kegbot\nEnter password:    &lt;---- use password just created\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 320\nServer version: 5.0.75-0ubuntu10.2 (Ubuntu)\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the buffer.\n\nmysql&gt; exit\nBye</pre>\n</div>\n<p>Done! You have successfully set up a MySQL database for Kegbot.</p>\n</div>\n</div>\n</div>\n", "display_toc": true, "title": "Install the Database", "sourcename": "server-guide/install-database.txt", "customsidebar": null, "current_page_name": "server-guide/install-database", "next": {"link": "../install-kegbot/", "title": "Install Kegbot Server"}, "rellinks": [["genindex", "General Index", "I", "index"], ["server-guide/install-kegbot", "Install Kegbot Server", "N", "next"], ["server-guide/overview", "Kegbot Server Overview", "P", "previous"]], "meta": {}, "parents": [{"link": "../", "title": "Kegbot Server Guide"}], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Install the Database</a><ul>\n<li><a class=\"reference internal\" href=\"#using-sqlite\">Using SQLite</a><ul>\n<li><a class=\"reference internal\" href=\"#install-sqlite\">Install SQLite</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#using-mysql\">Using MySQL</a><ul>\n<li><a class=\"reference internal\" href=\"#installing-mysql\">Installing MySQL</a></li>\n<li><a class=\"reference internal\" href=\"#creating-the-kegbot-database\">Creating the Kegbot database</a></li>\n<li><a class=\"reference internal\" href=\"#creating-the-kegbot-mysql-user\">Creating the <cite>kegbot</cite> MySQL user</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "prev": {"link": "../overview/", "title": "Kegbot Server Overview"}, "metatags": ""}